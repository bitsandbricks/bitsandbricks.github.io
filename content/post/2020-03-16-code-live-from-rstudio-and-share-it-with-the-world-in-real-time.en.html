---
title: Code live from RStudio, and share it with the World in real time
author: H. Antonio Vazquez Brust
date: '2020-03-16'
slug: code-live-from-rstudio-and-share-it-with-the-world-in-real-time
categories:
  - livecode
  - rstudio
tags: []
type: ''
subtitle: ''
image: ''
---



<p>COVID19 has changed plans, caused concern and altered habits o a planetary scale. Among so many other fields, on site teaching has been disrupted hard by social distancing, so now we are scrambling to set up remote learning alternatives. Things happened so fast lately that many of us were caught by surprise, and we are trying to figure out the best tool set (and state of mind!) to adapt our lessons for the online environment.</p>
<p>So next I’ll describe a solution I’ve found to make easier to teach R and Data Science remotely. Specifically, how to share with anyone, no matter where they are, the code that the teacher is writing. That allows students to access, on their own screens, the code being written in real time. They can then copy and paste it on their own scripts, as well as watch “live” how the code develops as it’s being explained.</p>
<p>We’ll need three ingredients:</p>
<ul>
<li><a href="https://rstudio.com/">RStudio</a>, that we assume is already installed</li>
<li>The <code>livecode</code> package: <a href="https://github.com/rundel/livecode" class="uri">https://github.com/rundel/livecode</a></li>
<li>An ngrok.com account (<a href="https://ngrok.com/" class="uri">https://ngrok.com/</a>), and the <code>ngrok</code> client.</li>
</ul>
<p>Here we go:</p>
<div id="installing-the-required-software" class="section level2">
<h2>Installing the required software</h2>
<div id="livecode" class="section level3">
<h3><code>livecode</code></h3>
<p>We can install <code>livecode</code> straight from the author’s repository. Thanks <a href="https://twitter.com/rundel">Colin Rundel</a> for making it possible!</p>
<p>In our session, we do:</p>
<pre class="r"><code>install.packages(&quot;remotes&quot;)</code></pre>
<p>and then:</p>
<pre class="r"><code>remotes::install_github(&quot;rundel/livecode&quot;)</code></pre>
<p>That’s it.</p>
</div>
<div id="ngrok" class="section level3">
<h3><code>ngrok</code></h3>
<p>First we go to <a href="https://ngok.com">ngrok.com</a>, and click on “SIGN UP” to get our account.</p>
<p><img src="https://bitsandbricks.github.io/post/img/rstudio_livecode/ngrok_login.png" width="800px" /></p>
<p>We can register using our Google or github credentials, if we have them, or use our email. In that case, we choose our user user name and password. After creating the account, we are directed to our control panel.</p>
<p><img src="https://bitsandbricks.github.io/post/img/rstudio_livecode/ngrok_setup_install.png" width="800px" /></p>
<p>There, step <strong>1</strong>, provides a link to download the <code>ngrok</code> client (Linux, Windows and Mac versions). We download and install it. Ubuntu users can simply type <code>snap install ngrok</code> on a terminal.</p>
<p>Step <strong>3</strong> shows our “authorization token”, a code we must provide -just once- to finish setting app the client on our system.</p>
<p>We can copy &amp; paste the command that shows up there. For me, the <code>./</code> at the begining was not necessary. I just typed:</p>
<p><code>ngrok authtoken XXXXXXXXXXXXXXX</code></p>
<p>where “XXXXXXXXXXX” is our authorization token.</p>
<p><img src="https://bitsandbricks.github.io/post/img/rstudio_livecode/ngrok_autorizar.png" width="800px" /></p>
<p>… and done!</p>
</div>
</div>
<div id="sharing-our-code-live-with-livecode" class="section level2">
<h2>Sharing our code live with <code>livecode</code></h2>
<p>In a nutshell: we launch RStudio, open or create the file we are about to share; a simple script or a RMarkdown file, both work. If it’s a new file we save it first, and then we are ready to share. It’s just a matter of typing a single line.</p>
<pre class="r"><code>s &lt;- livecode::serve_file()</code></pre>
<p>After we run that, we’ll see browser window pop up, showing our code… and updating it as we write it!</p>
<p>For example, if our RStudio session looks like this…</p>
<p><img src="https://bitsandbricks.github.io/post/img/rstudio_livecode/Rstudio_livecoding.png" width="800px" /></p>
<p>the browser window will show this:</p>
<p><img src="https://bitsandbricks.github.io/post/img/rstudio_livecode/Rstudio_livecoding_red_local.png" width="800px" /></p>
<p>The live code is being served from our computer, using and ad-hoc web server accessible from the local network. That is, people in the same room, or the same wi-fi network can access it using the address. In my case, the address is <em>192.168.1.3:14806</em>, but yours will probably be different. The important thing is that with that address we can share our code… with people in the same room. That’s great for a typical teaching session, but what about remote students, connecting from home?</p>
<p><code>ngrok</code> to the rescue.</p>
</div>
<div id="casting-our-code-online-with-ngrok" class="section level2">
<h2>Casting our code online with <code>ngrok</code></h2>
<p>Let’s take note of our live code website address, highlighted in red on the previous screenshot. Here it’s <em>192.168.1.3:14806</em>, and that’s what we’ll ask ngrok to publish online. We only need to run this:</p>
<p><code>ngrok http http://x.x.x.x:yyyy</code> where “x.x.x.x:yyyy” is our address.</p>
<p><img src="https://bitsandbricks.github.io/post/img/rstudio_livecode/ngrok_publicar.png" width="800px" /></p>
<p>After that, we should see a screenlike this, showing thta<code>ngrok</code> has taken the website generated by <code>livecode</code> and made it available on the internet:</p>
<p><img src="https://bitsandbricks.github.io/post/img/rstudio_livecode/ngrok_activado.png" width="800px" /></p>
<p>Last step: we copy the new address ending with “ngrok.io” (highlighted in red). Every time we run this we’ll get a different random address, unless we upgrade to ngrok’s premium offer, that enables fixed, permanent addresses. We won’t worry about that for now. We just share the address we got and voilà! Anybody can access it from anywhere and watch us coding live.</p>
<p><img src="https://bitsandbricks.github.io/post/img/rstudio_livecode/Rstudio_livecoding_internet.png" width="800px" /></p>
<p>Combining live coding with any videoconferencing platform -so we can talk to the audience too- should provide a pretty complete remote learning setup. Good luck, and keep on teaching!</p>
</div>
